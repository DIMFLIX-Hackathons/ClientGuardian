<center>
<img src="./.docs/assets/banner.png">
</center>

# О проекте
ClientGuardian - проект разработанный специально для ОАО "РЖД", нацеленный на формирование прогнозной модели оттока действующих клиентов. 

# Проблема
На сегодняшний день аналитика по модели перспективного поведения клиентов (увеличение/уменьшение грузоперевозок, увеличение/уменьшение доходов) прорабатывается вручную на основании доступной информации. При текущей организации процесса не предоставляется возможным формирование новой бизнес-модели работы сотрудника с учётом минимизации рутинных процессов и подготовки предиктивных мероприятий, направленных на удержание действующих клиентов .

# Как пользоваться?
## Конфигурация
- Скопируйте конфигурацию `cp .env.example .env`
- Заполните своими данными. Ниже вы можете найти описание каждого значения.

| Переменная                | Описание                                                                 |
|---------------------------|--------------------------------------------------------------------------|
| `DB_HOST`                 | Хост базы данных, на котором развернута база (например, `localhost`).   |
| `DB_PORT`                 | Порт, на котором база данных принимает соединения (по умолчанию 5432 для PostgreSQL). |
| `DB_USER`                 | Имя пользователя для подключения к базе данных.                          |
| `DB_PASSWORD`             | Пароль для пользователя базы данных.                                     |
| `DB_NAME`                 | Имя базы данных, к которой осуществляется подключение.                   |
| `JWT_SECRET_KEY`          | Секретный ключ для подписи JSON Web Tokens (JWT).                       |
| `JWT_ACCESS_TOKEN_EXP`    | Время жизни токена доступа в минутах (например, 5 минут).               |
| `JWT_ALGORITHM`           | Алгоритм, используемый для подписи JWT (например, HS256).               |
| `ADMIN_LOGIN`             | Логин администратора для доступа к административной панели.              |
| `ADMIN_PASSWORD`          | Пароль администратора для доступа к административной панели.             |
| `API_HOST`                | Хост, на котором развернут API (например, `localhost`).                 |
| `API_PORT`                | Порт, на котором API принимает соединения (например, 5001).              |
| `VUE_DEV_HOST`            | Хост для разработки приложения на Vue.js (например, `localhost`).       |
| `VUE_DEV_PORT`            | Порт для разработки приложения на Vue.js (например, 5000).              |
| `VUE_APP_API_URL`         | URL API для приложения на Vue.js, формируется из хоста и порта API.     |
| `LOG_LEVEL`               | Уровень логирования (например, DEBUG), определяет, какие сообщения будут записываться в логи. |
| `LOG_RETENTION`           | Период хранения логов (например, 10 дней).                              |
| `LOG_ROTATION`            | Максимальный размер файла логов перед их ротацией (например, 10 MB).    |

## Серверная часть
- ### Установка зависимостей
    1. [Установите pyenv](https://github.com/pyenv-win/pyenv-win/blob/master/docs/installation.md) 
    2. Установите python 3.10 `pyenv install 3.10`
    3. Сделайте эту версию глобальной `pyenv global 3.10`
    4. [Установите poetry](https://github.com/python-poetry/install.python-poetry.org/blob/main/README.md) 
    5. Перейдите в директорию с бекендом `cd backend`
    6. Войдите в виртуальное окружение: `poetry shell`
    7. Установите зависимости: `poetry install`

- ### Запуск
    - Если вы еще не вошли в виртуальное окружение, - сделайте это `poetry shell`

    > [!WARNING]
    > Если вы запускаете первый раз, то нужно выполнить команду `python src/app.py --init-db` для создания базы данных и проведения миграций.

    - Запустите главный модуль - `python src/app.py`

## Приложение
- ### Установка зависимостей
    1. [Установите node.js](https://nodejs.org/en/download/package-manager)
    2. Перейдите в рабочий каталог `cd frontend`
    3. Установите зависимости `npm install`
- ### Запуск
    - Выполните команду `npm run serve`

# Вклад в развитие
Вклад в развитие ClientGuardian приветствуется! Если вы обнаружите какие-либо проблемы или у вас есть идеи по улучшению, не стесняйтесь открывать проблему или отправлять запрос на слияние.

# Лицензия
ClientGuardian распространяется под лицензией MIT. \
Подробнее смотрите в файле [LICENSE](LICENSE).